

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Elementos de seguridad &mdash; documentación de IvozProvider - Oasis</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
  

  
        <link rel="index" title="Índice"
              href="../genindex.html"/>
        <link rel="search" title="Búsqueda" href="../search.html"/>
    <link rel="top" title="documentación de IvozProvider - Oasis" href="../index.html"/>
        <link rel="next" title="Mantenimiento de la solución" href="../maintenance/index.html"/>
        <link rel="prev" title="Portal de usuario" href="../userportal/index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> IvozProvider
          

          
          </a>

          
            
            
              <div class="version">
                1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Basic Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introducción a Ivozprovider</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Arquitectura general de la plataforma</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../operation_roles/index.html">Roles de la plataforma</a></li>
</ul>
<p class="caption"><span class="caption-text">Minimum Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Instalación inicial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../internal_calls/index.html">Realizar llamadas internas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_incoming_calls/index.html">Recibir llamadas externas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_outgoing_calls/index.html">Realizar llamadas externas</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pbx_features/index.html">Funcionalidades de PBX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../retail/index.html">Clientes Retail</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../billing_and_invoices/index.html">Tarificación y facturación</a></li>
<li class="toctree-l1"><a class="reference internal" href="../provisioning/index.html">Provisión de terminales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faxing/index.html">Sistema de Fax Virtual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userportal/index.html">Portal de usuario</a></li>
</ul>
<p class="caption"><span class="caption-text">Security and Maintenance</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Elementos de seguridad</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#firewall">Cortafuegos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exposed-ports-services">Servicios/Puertos expuestos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#authorized-company-ip-ranges">Rangos de IP autorizados por empresa</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#roadwarrior-users">Usuarios remotos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#anti-flooding">Anti-Flooding</a></li>
<li class="toctree-l2"><a class="reference internal" href="#concurrent-call-limit">Límite de llamadas concurrentes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Mantenimiento de la solución</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">IvozProvider</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Elementos de seguridad</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/security/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="security-elements">
<h1>Elementos de seguridad<a class="headerlink" href="#security-elements" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="firewall">
<h2>Cortafuegos<a class="headerlink" href="#firewall" title="Enlazar permanentemente con este título">¶</a></h2>
<p><strong>IvozProvider actualmente no viene con un cortafuegos configurado</strong> pero...</p>
<div class="admonition danger">
<p class="first admonition-title">Peligro</p>
<p class="last"><strong>Recomendamos encarecidamente que las instalaciones en producción cuenten con un cortafuegos</strong> que protejan la plataforma del salvaje Internet.</p>
</div>
<p>Los metodos de protección podrían ser:</p>
<ul class="simple">
<li><p class="first">Cortafuegos locales basados en <a class="reference external" href="https://www.netfilter.org/">iptables</a></p>
</li>
<li><p class="first">Cortafuegos externos</p>
</li>
<li><p class="first">Ambos</p>
</li>
</ul>
<div class="section" id="exposed-ports-services">
<h3>Servicios/Puertos expuestos<a class="headerlink" href="#exposed-ports-services" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Estos son los puertos que <strong>IvozProvider necesita exponer</strong> para funcionar correctamente:</p>
<p><strong>Señalizacion SIP</strong>:</p>
<ul class="simple">
<li><p class="first">Puerto 5060 (TCP/UDP)</p>
</li>
<li><p class="first">Puerto 5061 (TCP)</p>
</li>
<li><p class="first">Puerto 7060 (TCP/UDP) y 7061 TCP (para casos en que ambos proxies compartan la misma dirección IP)</p>
</li>
</ul>
<p><strong>Flujo de audio RTP</strong>:</p>
<ul class="simple">
<li><p class="first">Rango de puertos 13000-19000 UDP</p>
</li>
</ul>
<p><strong>Portal web y provisión</strong>:</p>
<ul class="simple">
<li><p class="first">Puertos TCP 443, 1443 y 2443</p>
</li>
</ul>
<div class="admonition hint">
<p class="first admonition-title">Consejo</p>
<p class="last">Recomendamos emplear el <strong>módulo GeoIP de iptales</strong> para rechazar tráfico de paises en los que no se tenga ningun usuario.</p>
</div>
</div>
</div>
<div class="section" id="authorized-company-ip-ranges">
<h2>Rangos de IP autorizados por empresa<a class="headerlink" href="#authorized-company-ip-ranges" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En el proceso de creación de empresas nos saltamos deliberademente un mecanismo de seguridad que <strong>limita las direcciones IP o rangos de red que pueden utilizar las credenciales de los terminales de una empresa concreta</strong>.</p>
<p>Se puede activar en la sección <strong>Configuración de Marca</strong> &gt; <strong>Empresas</strong>:</p>
<img alt="../_images/authorized_ips2.png" class="align-center" src="../_images/authorized_ips2.png" />
<p>Todo usuario que quiera conectarse desde una red no incluida no podrá, a pesar de disponer de unas credenciales válidas.</p>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Una vez activado el filtrado, <strong>es obligatorio</strong> añadir redes o direcciones válidas o, por el contrario, todas las llamadas se rechazarán:</p>
</div>
<img alt="../_images/authorized_ips.png" src="../_images/authorized_ips.png" />
<p>Se pueden añadir direcciones IP y rangos de direcciones, en formato CIDR (IP/mask)</p>
<img alt="../_images/authorized_ips3.png" src="../_images/authorized_ips3.png" />
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Este mecanismo limita los orígenes de los usuarios de una empresa, no filtra en absoluto los orígenes de los <strong>Contratos de Peering</strong>.</p>
</div>
<div class="section" id="roadwarrior-users">
<span id="id1"></span><h3>Usuarios remotos<a class="headerlink" href="#roadwarrior-users" title="Enlazar permanentemente con este título">¶</a></h3>
<p>Algunos usuarios de ciertas empresas viajan con mucha frecuencia y necesitan llamar desde redes externas no controladas. Estos usuarios obligan a la empresa a desactivar el mecanismo de protección de IP.</p>
<p>Para solventar este problema, en la sección de Usuarios existe la opción <strong>Llamadas desde IPs no autorizadas</strong> que permite que ciertos usuarios llamen desde redes no permitidas mientras su empresa sigue protegida con el mecanismo de protección de IP.</p>
<p>Para evitar que estos usuarios signifiquen una brecha de seguridad, el número de llamadas que pueden hacer desde redes no autorizadas se limita a 1, 2 ó 3.</p>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Solo se cuentan y se limitan las llamadas generadas por estos usuarios (tanto las internas como las externas), la recepción de llamadas no se ve afectada por esta funcionalidad (sí por el parámetro <strong>Límite de llamadas</strong>).</p>
</div>
<p>En resumen, con esta funcionalidad:</p>
<ul class="simple">
<li><p class="first">Ciertos usuarios pueden realizar un determinado número de llamadas desde IPs no autorizadas.</p>
</li>
<li><p class="first">Estas llamadas se cuentan y se limitan.</p>
</li>
</ul>
<p class="rubric">Ejemplo 1 - Compañía sin mecanismo de protección de IP</p>
<p>Al no estar el mecanismo activado, el valor de este parámetro no aplica.</p>
<p class="rubric">Ejemplo 2- Compañía con mecanismo de protección de IP</p>
<ul class="simple">
<li><p class="first">Si el usuario llamada desde una IP autorizada, el valor de este parámetro no aplica: la llamada se permite y no se cuenta.</p>
</li>
<li><p class="first">Si el usuario llama desde una IP NO autorizada, se verifica el valor de este parámetro y, en caso de tener un valor 1, 2 ó 3 y de no haber superado este límite, la llamada se permite y se cuenta. Si no, se rechaza la llamada.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Si el valor de <strong>Llamadas desde IPs no autorizadas</strong> se configura a <em>Ninguna</em> el usuario tendrá que cumplir la política de IPs de su empresa, cualquiera que sea.</p>
</div>
</div>
</div>
<div class="section" id="anti-flooding">
<h2>Anti-Flooding<a class="headerlink" href="#anti-flooding" title="Enlazar permanentemente con este título">¶</a></h2>
<p>IvozProvider incorpora un mecanismo de <em>anti-flooding</em> que evita que un emisor sature nuestra plataforma enviando peticiones. Ambos <em>proxies</em> (usuarios y salida) incorporan este mecanismo, que <strong>limita el número de peticiones desde un dirección origen en un tramo concreto de tiempo</strong>.</p>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Cuando un origen llega al límite, el proxy dejará de contestarle durante un tiempo dado. Pasado ese tiempo, volverá a contestarle con normalidad</p>
</div>
<p>Ciertos orígenes que están automáticamente excluidos de este mecanismo de <em>anti-flooding</em>:</p>
<ul class="simple">
<li><p class="first">Servidores de aplicación de la plataforma.</p>
</li>
<li><p class="first">IPs o rangos autorizados de empresas (ver sección anterior).</p>
</li>
</ul>
<p>El operador global puede añadir otras direcciones que queden excluidas de este mecanismo por medio del apartado <strong>Configuración global</strong> &gt; <strong>IPs de confianza</strong></p>
<img alt="../_images/trusted_ips.png" src="../_images/trusted_ips.png" />
</div>
<div class="section" id="concurrent-call-limit">
<h2>Límite de llamadas concurrentes<a class="headerlink" href="#concurrent-call-limit" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este mecanismo limita las llamadas externas de un cliente (vPBX/retail). También se puede configurar a nivel de marca.</p>
<div class="admonition warning">
<p class="first admonition-title">Advertencia</p>
<p class="last">Los límites de marca y de empresa (vPBX/retail) no están relacionados de ninguna manera (es decir, si una marca tiene 10, la suma de llamadas de sus empresas puede sumar más de 10). Aplicará el límite que antes sea alcanzado.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Truco</p>
<p class="last">Para desactivar este mecanismo, basta con fijar el valor a 0.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../maintenance/index.html" class="btn btn-neutral float-right" title="Mantenimiento de la solución" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../userportal/index.html" class="btn btn-neutral" title="Portal de usuario" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2017, Irontec.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: oasis
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../artemis/index.html">artemis</a></dd>
            <dd><a href="../../halliday/index.html">halliday</a></dd>
            <dd><a href="../../main/index.html">main</a></dd>
            <dd><a href="index.html">oasis</a></dd>
            <dd><a href="../../tempest/index.html">tempest</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'Oasis',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
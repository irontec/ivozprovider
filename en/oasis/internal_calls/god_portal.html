

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Main Management &mdash; IvozProvider Oasis documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="IvozProvider Oasis documentation" href="../index.html"/>
        <link rel="up" title="Making internal calls" href="index.html"/>
        <link rel="next" title="Brand Configuration" href="brand_portal.html"/>
        <link rel="prev" title="Making internal calls" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> IvozProvider
          

          
          </a>

          
            
            
              <div class="version">
                1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Basic Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Introduction to IvozProvider</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Platform general architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../operation_roles/index.html">Platform roles</a></li>
</ul>
<p class="caption"><span class="caption-text">Minimum Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Initial Installation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Making internal calls</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Main Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#custom-installation-configuration">Custom installation configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#users-sip-proxy">Users SIP Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#providers-sip-proxy">Providers SIP proxy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#standard-global-configuration">Standard global configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#application-servers">Application Servers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#media-relay">Media relay</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sip-domains">SIP Domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="#brands">Brands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#emulate-the-demo-brand">Emulate the Demo brand</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-emulation-means">What emulation means</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="brand_portal.html">Brand Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="company_portal.html">Company Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure_sipuacs.html">SIP Terminal configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../external_incoming_calls/index.html">Receive external calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_outgoing_calls/index.html">Making external calls</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pbx_features/index.html">PBX Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../retail/index.html">Retail Clients</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../billing_and_invoices/index.html">Billing and Invoices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../provisioning/index.html">Terminal provisioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faxing/index.html">Virtual Fax System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userportal/index.html">User Portal</a></li>
</ul>
<p class="caption"><span class="caption-text">Security and Maintenance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance and troubleshooting</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">IvozProvider</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Making internal calls</a> &raquo;</li>
      
    <li>Main Management</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/internal_calls/god_portal.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="main-management">
<h1>Main Management<a class="headerlink" href="#main-management" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Any of the 2 Public IP addresses configured during the
installation will work to acces the web portal. Default credentials are
<strong>admin / changeme</strong>.</p>
</div>
<p>In this section will reference global administrator configuration options,
avaible in the menu (<strong>Main management</strong>) of the web portal (only visible to
God Admins):</p>
<img alt="../_images/bloque_god.png" class="align-center" src="../_images/bloque_god.png" />
<div class="section" id="custom-installation-configuration">
<h2>Custom installation configuration<a class="headerlink" href="#custom-installation-configuration" title="Permalink to this headline">¶</a></h2>
<p>During the install process two IP addresses will be requested in order to run
the following two processes:</p>
<div class="section" id="users-sip-proxy">
<span id="proxyusers"></span><h3>Users SIP Proxy<a class="headerlink" href="#users-sip-proxy" title="Permalink to this headline">¶</a></h3>
<p>This is the SIP proxy exposed to the external world where users register their
terminals.</p>
<p>The value displayed in the section <strong>Proxy users</strong> will show the IP address
entered during the installation process.</p>
<img alt="../_images/proxyusers.png" src="../_images/proxyusers.png" />
</div>
<div class="section" id="providers-sip-proxy">
<h3>Providers SIP proxy<a class="headerlink" href="#providers-sip-proxy" title="Permalink to this headline">¶</a></h3>
<p>This is the SIP proxy exposed to the external world in charge of connecting
the provider that brand aministrators will configure for <em>peering</em>.</p>
<p>The value displayed in the section <strong>Proxy trunk</strong> will show the IP address
entered during the installation process.</p>
<img alt="../_images/proxytrunks.png" src="../_images/proxytrunks.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only the IP address will be entered as the port will be always 5060
(5061 for SIP over TLS).</p>
</div>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">This 2 values can be changed from the portal, but they must always
have the same IP address that proxy process listen to requests.</p>
</div>
</div>
</div>
<div class="section" id="standard-global-configuration">
<h2>Standard global configuration<a class="headerlink" href="#standard-global-configuration" title="Permalink to this headline">¶</a></h2>
<p>The installation process includes other global values that are the same in
any standalone IvozProvider installation and can also be checked from the
web interface.</p>
<div class="section" id="application-servers">
<h3>Application Servers<a class="headerlink" href="#application-servers" title="Permalink to this headline">¶</a></h3>
<p>The section <strong>Application Servers</strong> will list the IP address where the existing
Asterisk processes will listen for request, and like previously mentioned,
can scale horizontaly to adapt the platform for the required load.</p>
<p>Contrary to the Proxies, Asterisk is not exposed to the external world, so
for a standalone installation there will only be one listening at 127.0.0.1.</p>
<img alt="../_images/app_servers.png" src="../_images/app_servers.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The listening port will not be displayed in the field because it will
always be 6060 (UDP).</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">As soon as another Application Server is added, the proxies will
try to balance load using it. If no response is received from added
Application server, it will be disabled automatically.</p>
</div>
</div>
<div class="section" id="media-relay">
<h3>Media relay<a class="headerlink" href="#media-relay" title="Permalink to this headline">¶</a></h3>
<p>Media relays are in charge of bridging RTP traffic of established calls. Like
the Application Servers, they can scale horizontally as much as required.</p>
<p>Media relays are organized in groups so they can be assigned to a company. Each
element of the group has a <strong>metric</strong> that allows non-equal load balancing
within the same group (i.e. media-relay1 metric 1; media-relay2 metric 2:
the second media relay will handle two times the calls than the first one).</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">The static assigment of media relay groups is not the common practice
but allow us to assign strategic resources to companies that need a warranted
service. The most common usage of this <strong>groups of media relays</strong> is to
place them near the geographic area of the company (usually far from the
rest of the platform systems) in order to reduce <strong>latencies</strong> in their
conversations.</p>
</div>
<p>In a standalone installation, only one media relay group will be exist:</p>
<img alt="../_images/media_relay_groups.png" src="../_images/media_relay_groups.png" />
<p>By default this group only has a media server:</p>
<img alt="../_images/media_relays.png" src="../_images/media_relays.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The address displayed is the control socket, not the SDP address that
will be included during SIP negociation. By default this alone media-relay
will share the same IP address that the User&#8217;s SIP proxy.</p>
</div>
</div>
<div class="section" id="sip-domains">
<span id="god-sipdomains"></span><h3>SIP Domains<a class="headerlink" href="#sip-domains" title="Permalink to this headline">¶</a></h3>
<p>The section <strong>Domains</strong> will display the SIP domains that points to our two
public IP addresses.</p>
<ul class="simple">
<li>Users SIP Proxy IP address</li>
<li>Trunks SIP Proxy IP address</li>
</ul>
<p>After the initial installation, there will be two domains, one for each address:</p>
<img alt="../_images/domain_list_local.png" src="../_images/domain_list_local.png" />
<p>This domains will be used internally by a builtin DNS server included in the
solution.</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">As mentioned in the section <a class="reference internal" href="brand_portal.html#domain-per-company"><span class="std std-ref">Company SIP Domain</span></a>, each
company will require a DNS pointing to the users SIP proxy. Once configured,
the domain will be displayed in this list so global administrator can check
what domains are registered for each company.</p>
</div>
</div>
<div class="section" id="brands">
<h3>Brands<a class="headerlink" href="#brands" title="Permalink to this headline">¶</a></h3>
<p>After the initial installation, the platform will have an already created brand
called DemoBrand. Let&#8217;s inspect its parameters:</p>
<dl class="glossary docutils">
<dt id="term-name">Name</dt>
<dd>Sets the name for this brand.</dd>
<dt id="term-nif">NIF</dt>
<dd>Number used in this brand&#8217;s invoices.</dd>
<dt id="term-logo">Logo</dt>
<dd>Used as default logo in invoices and in portals (if they don&#8217;t specify
another logo).</dd>
<dt id="term-invoice-data">Invoice data</dt>
<dd>Data included in invoices created by this brand.</dd>
<dt id="term-mail-data">Mail data</dt>
<dd>Display name and from address used in external emails for this brand
(faxes, voicemail, etc.)</dd>
<dt id="term-sip-domain">SIP domain</dt>
<dd>Introduced in 1.4. Domain pointing to Users SIP proxy used by all the
Retail Accounts of this brand.</dd>
<dt id="term-recordings">Recordings</dt>
<dd>Configures a limit for the size of recordings of this brand. A
notification is sent to configured address when 80% is reached and
older recordings are rotated when configured size is reached.</dd>
<dt id="term-features">Features</dt>
<dd>Introduced in 1.3, lets god operator choose the features of the created
brand. An equivalent configuration is available in Companies, to choose
between the ones that god operator gave to your Brand. Related sections
are hidden consequently.</dd>
</dl>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Some features (currently invoices and billing) are related to brand and
cannot be assigned to companies. Remaining features are related to
companies and lets the brand operator to assign them to its companies.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Disabling billing hides all related sections and assumes that an
external element will set a price for calls (external tarification
module is needed, ask for it!).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Disabling invoices hides related sections, assuming you will use an
external tool to generate them.</p>
</div>
</div>
</div>
<div class="section" id="emulate-the-demo-brand">
<h2>Emulate the Demo brand<a class="headerlink" href="#emulate-the-demo-brand" title="Permalink to this headline">¶</a></h2>
<p>As mentioned above, the initial installation will have an already created brand
called DemoBrand, that will be used for our goal: to have 2 telephones registered
that can call each other.</p>
<p>Before going to the next section, is quite important to understand how the
<strong>emulation</strong> works.</p>
<ul class="simple">
<li>As global operator, you have access to the menu <strong>Main management</strong> only
visible to <em>God</em> administators.</li>
<li>Apart from that menu, you will also have access to the <strong>Brand configuration</strong>
and <strong>Company configuration</strong> that will look more or less like this:</li>
</ul>
<img alt="../_images/emular_marca_prev.png" class="align-center" src="../_images/emular_marca_prev.png" />
<ul class="simple">
<li>Check following button</li>
</ul>
<img alt="../_images/emular_marca.png" class="align-center" src="../_images/emular_marca.png" />
<ul class="simple">
<li>When pressed, a popup will be displayed:</li>
</ul>
<img alt="../_images/emular_marca2.png" class="align-center" src="../_images/emular_marca2.png" />
<ul class="simple">
<li>After selecting the DemoBrand brand, the icon will change and shows the
emulted brand:</li>
</ul>
<img alt="../_images/emular_marca3.png" class="align-center" src="../_images/emular_marca3.png" />
<ul class="simple">
<li>The upper right corner of the portal will also display the brand that is being
emulted:</li>
</ul>
<img alt="../_images/emular_marca4.png" class="align-center" src="../_images/emular_marca4.png" />
<div class="section" id="what-emulation-means">
<h3>What emulation means<a class="headerlink" href="#what-emulation-means" title="Permalink to this headline">¶</a></h3>
<p>Basically, that <strong>everything in the menu &#8216;Brand configuration&#8217; will be relative
to the chosen brand</strong> and is <strong>exactly</strong> the same menu entries that the brand
operator will see using its brand portal.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Ok, ok. maybe exactly is not totally accurate. The global operator is
able to see some fields in some screens that other admins cann&#8217;t (i.e. On
Company edit screen, fields like &#8216;Media relays&#8217; or &#8216;Application server&#8217; are
only configurable by the global operator.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="brand_portal.html" class="btn btn-neutral float-right" title="Brand Configuration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Making internal calls" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2017, Irontec.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: oasis
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../artemis/index.html">artemis</a></dd>
            <dd><a href="../../halliday/index.html">halliday</a></dd>
            <dd><a href="../../main/index.html">main</a></dd>
            <dd><a href="god_portal.html">oasis</a></dd>
            <dd><a href="../../tempest/index.html">tempest</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'Oasis',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
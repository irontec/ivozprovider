########################################
## Raw
########################################
Ivoz\Provider\Domain\Model\BillableCall\BillableCall:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    pagination_client_enabled: true
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        raw: 'FALSE'

Ivoz\Provider\Domain\Model\Calendar\Calendar:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\CallAcl\CallAcl:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\CallAclRelMatchList\CallAclRelMatchList:
  collectionOperations:
    post: ~
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        callAcl: 'Ivoz\Provider\Domain\Model\CallAcl\CallAcl'
    write_access_control:
      inherited:
        callAcl: 'Ivoz\Provider\Domain\Model\CallAcl\CallAcl'
        matchList: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'

Ivoz\Provider\Domain\Model\CallCsvScheduler\CallCsvScheduler:
  properties:
    lastExecution:
      attributes:
        swagger_context:
          readOnly: true
    lastExecutionError:
      attributes:
        swagger_context:
          readOnly: true
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - company:
              eq: "user.getCompany().getId()"
        - or:
          - inherited:
              callCsvNotificationTemplate: 'Ivoz\Provider\Domain\Model\NotificationTemplate\NotificationTemplate'
          - callCsvNotificationTemplate:
              isNull: ~

Ivoz\Provider\Domain\Model\CallCsvReport\CallCsvReport:
  itemOperations:
    get: ~
    put: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - company:
              eq: "user.getCompany().getId()"
        - or:
          - inherited:
              callCsvScheduler: 'Ivoz\Provider\Domain\Model\CallCsvScheduler\CallCsvScheduler'
          - callCsvScheduler:
              isNull: ~

Ivoz\Provider\Domain\Model\CallForwardSetting\CallForwardSetting:
  attributes:
    access_control: '("ROLE_COMPANY_ADMIN" in roles) or ("ROLE_COMPANY_USER" in roles)'
    read_access_control:
      ROLE_COMPANY_USER:
        user:
          eq: "user.getId()"
      ROLE_COMPANY_ADMIN:
        - or:
          - inherited:
              user: 'Ivoz\Provider\Domain\Model\User\User'
          - inherited:
              residentialDevice: 'Ivoz\Provider\Domain\Model\ResidentialDevice\ResidentialDevice'
          - inherited:
              retailAccount: 'Ivoz\Provider\Domain\Model\RetailAccount\RetailAccount'
    write_access_control:
      ROLE_COMPANY_USER:
        user:
          eq: "user.getId()"
      ROLE_COMPANY_ADMIN:
      - or:
        - inherited:
            user: 'Ivoz\Provider\Domain\Model\User\User'
        - user:
            isNull: ~
      - or:
        - inherited:
            residentialDevice: 'Ivoz\Provider\Domain\Model\ResidentialDevice\ResidentialDevice'
        - residentialDevice:
            isNull: ~
      - or:
        - inherited:
            retailAccount: 'Ivoz\Provider\Domain\Model\RetailAccount\RetailAccount'
        - retailAccount:
            isNull: ~
      - or:
        - inherited:
            extension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
        - extension:
            isNull: ~
      - or:
        - inherited:
            voiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
        - voiceMailUser:
            isNull: ~

Ivoz\Provider\Domain\Model\Company\Company:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  properties:
    name:
      attributes:
        swagger_context:
          readOnly: true
    domainUsers:
      attributes:
        swagger_context:
          readOnly: true
    nif:
      attributes:
        swagger_context:
          readOnly: true
    onDemandRecordCode:
      attributes:
        swagger_context:
          readOnly: true
    balance:
      attributes:
        swagger_context:
          readOnly: true
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        id:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
            - id:
                eq: "user.getCompany().getId()"
        - or:
            - inherited:
                outgoingDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
            - outgoingDdi:
                isNull: ~
        - or:
          - inherited:
              outgoingDdiRule: 'Ivoz\Provider\Domain\Model\OutgoingDdiRule\OutgoingDdiRule'
          - outgoingDdiRule:
              isNull: ~

Ivoz\Provider\Domain\Model\CompanyService\CompanyService:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\ConditionalRoute\ConditionalRoute:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        inherited:
          company: 'Ivoz\Provider\Domain\Model\Company\Company'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              extension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - extension:
              isNull: ~
        - or:
          - inherited:
              huntGroup: 'Ivoz\Provider\Domain\Model\HuntGroup\HuntGroup'
          - huntGroup:
              isNull: ~
        - or:
          - inherited:
              user: 'Ivoz\Provider\Domain\Model\User\User'
          - user:
              isNull: ~
        - or:
          - inherited:
              queue: 'Ivoz\Provider\Domain\Model\Queue\Queue'
          - queue:
              isNull: ~
        - or:
          - inherited:
              locution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - locution:
              isNull: ~
        - or:
          - inherited:
              conferenceRoom: 'Ivoz\Provider\Domain\Model\ConferenceRoom\ConferenceRoom'
          - conferenceRoom:
              isNull: ~
        - or:
          - inherited:
              ivr: 'Ivoz\Provider\Domain\Model\Ivr\Ivr'
          - ivr:
              isNull: ~
        - or:
          - inherited:
              voicemailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - voicemailUser:
              isNull: ~

Ivoz\Provider\Domain\Model\ConditionalRoutesCondition\ConditionalRoutesCondition:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        conditionalRoute: 'Ivoz\Provider\Domain\Model\ConditionalRoute\ConditionalRoute'
    write_access_control:
      - and:
        - inherited:
            conditionalRoute: 'Ivoz\Provider\Domain\Model\ConditionalRoute\ConditionalRoute'
      - or:
        - inherited:
            extension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
        - extension:
            isNull: ~
      - or:
        - inherited:
            huntGroup: 'Ivoz\Provider\Domain\Model\HuntGroup\HuntGroup'
        - huntGroup:
            isNull: ~
      - or:
        - inherited:
            user: 'Ivoz\Provider\Domain\Model\User\User'
        - user:
            isNull: ~
      - or:
        - inherited:
            queue: 'Ivoz\Provider\Domain\Model\Queue\Queue'
        - queue:
            isNull: ~
      - or:
        - inherited:
            locution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
        - locution:
            isNull: ~
      - or:
        - inherited:
            conferenceRoom: 'Ivoz\Provider\Domain\Model\ConferenceRoom\ConferenceRoom'
        - conferenceRoom:
            isNull: ~

Ivoz\Provider\Domain\Model\ConditionalRoutesConditionsRelMatchlist\ConditionalRoutesConditionsRelMatchlist:
  itemOperations:
    get: ~
    delete: ~
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        matchlist: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'
    write_access_control:
      inherited:
        matchlist: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'
        condition: 'Ivoz\Provider\Domain\Model\ConditionalRoutesCondition\ConditionalRoutesCondition'

Ivoz\Provider\Domain\Model\ConditionalRoutesConditionsRelSchedule\ConditionalRoutesConditionsRelSchedule:
  itemOperations:
    get: ~
    delete: ~
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        schedule: 'Ivoz\Provider\Domain\Model\Schedule\Schedule'
    write_access_control:
      inherited:
        condition: 'Ivoz\Provider\Domain\Model\ConditionalRoutesCondition\ConditionalRoutesCondition'
        schedule: 'Ivoz\Provider\Domain\Model\Schedule\Schedule'

Ivoz\Provider\Domain\Model\ConditionalRoutesConditionsRelCalendar\ConditionalRoutesConditionsRelCalendar:
  itemOperations:
    get: ~
    delete: ~
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        calendar: 'Ivoz\Provider\Domain\Model\Calendar\Calendar'
    write_access_control:
      inherited:
        condition: 'Ivoz\Provider\Domain\Model\ConditionalRoutesCondition\ConditionalRoutesCondition'
        calendar: 'Ivoz\Provider\Domain\Model\Calendar\Calendar'

Ivoz\Provider\Domain\Model\ConditionalRoutesConditionsRelRouteLock\ConditionalRoutesConditionsRelRouteLock:
  itemOperations:
    get: ~
    delete: ~
  collectionOperations:
    get:
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        routeLock: 'Ivoz\Provider\Domain\Model\RouteLock\RouteLock'
    write_access_control:
      inherited:
        condition: 'Ivoz\Provider\Domain\Model\ConditionalRoutesCondition\ConditionalRoutesCondition'
        routeLock: 'Ivoz\Provider\Domain\Model\RouteLock\RouteLock'

Ivoz\Provider\Domain\Model\ConferenceRoom\ConferenceRoom:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\Country\Name:
Ivoz\Provider\Domain\Model\Country\Zone:
Ivoz\Provider\Domain\Model\Country\Country:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    pagination_client_enabled: true
    access_control: '("ROLE_COMPANY_ADMIN" in roles) or ("ROLE_COMPANY_USER" in roles)'

Ivoz\Provider\Domain\Model\Ddi\Ddi:
  itemOperations:
    get: ~
    put: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        company: 'Ivoz\Provider\Domain\Model\Company\Company'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              user: 'Ivoz\Provider\Domain\Model\User\User'
          - user:
              isNull: ~
        - or:
          - inherited:
              ivr: 'Ivoz\Provider\Domain\Model\Ivr\Ivr'
          - ivr:
              isNull: ~
        - or:
          - inherited:
              huntGroup: 'Ivoz\Provider\Domain\Model\HuntGroup\HuntGroup'
          - huntGroup:
              isNull: ~
        - or:
          - inherited:
              fax: 'Ivoz\Provider\Domain\Model\Fax\Fax'
          - fax:
              isNull: ~
        - or:
          - inherited:
              conferenceRoom: 'Ivoz\Provider\Domain\Model\ConferenceRoom\ConferenceRoom'
          - conferenceRoom:
              isNull: ~
        - or:
          - inherited:
              queue: 'Ivoz\Provider\Domain\Model\Queue\Queue'
          - queue:
              isNull: ~
        - or:
          - inherited:
              retailAccount: 'Ivoz\Provider\Domain\Model\RetailAccount\RetailAccount'
          - retailAccount:
              isNull: ~
        - or:
          - inherited:
              residentialDevice: 'Ivoz\Provider\Domain\Model\ResidentialDevice\ResidentialDevice'
          - residentialDevice:
              isNull: ~
        - or:
          - inherited:
              conditionalRoute: 'Ivoz\Provider\Domain\Model\ConditionalRoute\ConditionalRoute'
          - conditionalRoute:
              isNull: ~
        - or:
          - inherited:
              externalCallFilter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
          - externalCallFilter:
              isNull: ~
  properties:
    ddi:
      attributes:
        swagger_context:
          readOnly: true
    country:
      attributes:
        swagger_context:
          readOnly: true

Ivoz\Provider\Domain\Model\Extension\Extension:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        inherited:
          company: 'Ivoz\Provider\Domain\Model\Company\Company'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              huntGroup: 'Ivoz\Provider\Domain\Model\HuntGroup\HuntGroup'
          - huntGroup:
              isNull: ~
        - or:
          - inherited:
              user: 'Ivoz\Provider\Domain\Model\User\User'
          - user:
              isNull: ~
        - or:
          - inherited:
              queue: 'Ivoz\Provider\Domain\Model\Queue\Queue'
          - queue:
              isNull: ~
        - or:
          - inherited:
              conditionalRoute: 'Ivoz\Provider\Domain\Model\ConditionalRoute\ConditionalRoute'
          - conditionalRoute:
              isNull: ~
        - or:
          - inherited:
              ivr: 'Ivoz\Provider\Domain\Model\Ivr\Ivr'
          - ivr:
              isNull: ~
        - or:
          - inherited:
              conferenceRoom: 'Ivoz\Provider\Domain\Model\ConferenceRoom\ConferenceRoom'
          - conferenceRoom:
              isNull: ~

Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        company: 'Ivoz\Provider\Domain\Model\Company\Company'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              welcomeLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - welcomeLocution:
              isNull: ~
        - or:
          - inherited:
              outOfScheduleLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - outOfScheduleLocution:
              isNull: ~
        - or:
          - inherited:
              holidayExtension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - holidayExtension:
              isNull: ~
        - or:
          - inherited:
              outOfScheduleExtension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - outOfScheduleExtension:
              isNull: ~
        - or:
          - inherited:
              holidayVoiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - holidayVoiceMailUser:
              isNull: ~
        - or:
          - inherited:
              outOfScheduleVoiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - outOfScheduleVoiceMailUser:
              isNull: ~
        - or:
          - inherited:
              holidayLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - holidayLocution:
              isNull: ~

Ivoz\Provider\Domain\Model\ExternalCallFilterBlackList\ExternalCallFilterBlackList:
  collectionOperations:
    get:
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
      depth: 1
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
    write_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
        matchlist: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'

Ivoz\Provider\Domain\Model\ExternalCallFilterRelCalendar\ExternalCallFilterRelCalendar:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
    write_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
        calendar: 'Ivoz\Provider\Domain\Model\Calendar\Calendar'

Ivoz\Provider\Domain\Model\ExternalCallFilterRelSchedule\ExternalCallFilterRelSchedule:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
    write_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
        schedule: 'Ivoz\Provider\Domain\Model\Schedule\Schedule'

Ivoz\Provider\Domain\Model\ExternalCallFilterWhiteList\ExternalCallFilterWhiteList:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
    write_access_control:
      inherited:
        filter: 'Ivoz\Provider\Domain\Model\ExternalCallFilter\ExternalCallFilter'
        matchlist: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'

Ivoz\Provider\Domain\Model\FaxesInOut\FaxesInOut:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        fax: 'Ivoz\Provider\Domain\Model\Fax\Fax'

Ivoz\Provider\Domain\Model\Fax\Fax:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
            - inherited:
                company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
            - inherited:
                outgoingDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
            - outgoingDdi:
                isNull: ~

Ivoz\Provider\Domain\Model\Feature\Feature:
  itemOperations: []
  collectionOperations: []

Ivoz\Provider\Domain\Model\FeaturesRelCompany\FeaturesRelCompany:
  itemOperations:
    get: ~
  collectionOperations:
    get:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        raw: 'FALSE'

Ivoz\Provider\Domain\Model\Friend\Friend:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
      - or:
        - inherited:
            interCompany: 'Ivoz\Provider\Domain\Model\Company\Company'
        - interCompany:
            isNull: ~
      - or:
        - inherited:
            callAcl: 'Ivoz\Provider\Domain\Model\CallAcl\CallAcl'
        - callAcl:
            isNull: ~
      - or:
        - inherited:
            outgoingDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
        - outgoingDdi:
            isNull: ~
      - or:
        - inherited:
            transformationRuleSet: 'Ivoz\Provider\Domain\Model\TransformationRuleSet\TransformationRuleSet'
        - transformationRuleSet:
            isNull: ~
  itemOperations:
    get: ~
    get_status_item:
      method: 'GET'
      path: 'friends/{id}/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    put: ~
    delete: ~
  collectionOperations:
    get: ~
    get_status_collection:
      method: 'GET'
      path: 'friends/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    post: ~

Ivoz\Provider\Domain\Model\FriendsPattern\FriendsPattern:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        friend: 'Ivoz\Provider\Domain\Model\Friend\Friend'

Ivoz\Provider\Domain\Model\HolidayDate\HolidayDate:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        calendar: 'Ivoz\Provider\Domain\Model\Calendar\Calendar'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              calendar: 'Ivoz\Provider\Domain\Model\Calendar\Calendar'
        - or:
          - inherited:
              extension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - extension:
              isNull: ~
        - or:
          - inherited:
              voiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - voiceMailUser:
              isNull: ~
        - or:
          - inherited:
              locution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - locution:
              isNull: ~

Ivoz\Provider\Domain\Model\HuntGroup\HuntGroup:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        company: 'Ivoz\Provider\Domain\Model\Company\Company'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              noAnswerLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - noAnswerLocution:
              isNull: ~
        - or:
          - inherited:
              noAnswerExtension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - noAnswerExtension:
              isNull: ~
        - or:
          - inherited:
              noAnswerVoiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - noAnswerVoiceMailUser:
              isNull: ~

Ivoz\Provider\Domain\Model\HuntGroupsRelUser\HuntGroupsRelUser:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        huntGroup: 'Ivoz\Provider\Domain\Model\HuntGroup\HuntGroup'
    write_access_control:
      inherited:
        user: 'Ivoz\Provider\Domain\Model\User\User'
        huntGroup: 'Ivoz\Provider\Domain\Model\HuntGroup\HuntGroup'

Ivoz\Provider\Domain\Model\Invoice\Invoice:
  itemOperations: []
  collectionOperations: []
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        raw: 'FALSE'

Ivoz\Provider\Domain\Model\IvrEntry\IvrEntry:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        ivr: 'Ivoz\Provider\Domain\Model\Ivr\Ivr'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              ivr: 'Ivoz\Provider\Domain\Model\Ivr\Ivr'
        - or:
          - inherited:
              extension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - extension:
              isNull: ~
        - or:
          - inherited:
              welcomeLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - welcomeLocution:
              isNull: ~
        - or:
          - inherited:
              conditionalRoute: 'Ivoz\Provider\Domain\Model\ConditionalRoute\ConditionalRoute'
          - conditionalRoute:
              isNull: ~
        - or:
          - inherited:
              voiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - voiceMailUser:
              isNull: ~

Ivoz\Provider\Domain\Model\Ivr\Ivr:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        inherited:
          company: 'Ivoz\Provider\Domain\Model\Company\Company'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              errorExtension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - errorExtension:
              isNull: ~
        - or:
          - inherited:
              errorLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - errorLocution:
              isNull: ~
        - or:
          - inherited:
              welcomeLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - welcomeLocution:
              isNull: ~
        - or:
          - inherited:
              noInputLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - noInputLocution:
              isNull: ~
        - or:
          - inherited:
              successLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - successLocution:
              isNull: ~
        - or:
          - inherited:
              noInputVoiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - noInputVoiceMailUser:
              isNull: ~
        - or:
          - inherited:
              errorVoiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - errorVoiceMailUser:
              isNull: ~
        - or:
          - inherited:
              noInputExtension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - noInputExtension:
              isNull: ~

Ivoz\Provider\Domain\Model\IvrExcludedExtension\IvrExcludedExtension:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        ivr: 'Ivoz\Provider\Domain\Model\Ivr\Ivr'
    write_access_control:
      inherited:
        ivr: 'Ivoz\Provider\Domain\Model\Ivr\Ivr'
        extension: 'Ivoz\Provider\Domain\Model\Extension\Extension'

Ivoz\Provider\Domain\Model\Language\Language:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '("ROLE_COMPANY_ADMIN" in roles) or ("ROLE_COMPANY_USER" in roles)'
Ivoz\Provider\Domain\Model\Language\Name:

Ivoz\Provider\Domain\Model\Locution\Locution:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\NotificationTemplate\NotificationTemplate:
  itemOperations: []
  collectionOperations: []
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        - or:
          - brand:
              eq: "user.getCompany().getBrand().getId()"
          - brand:
              isNull: ~

Ivoz\Provider\Domain\Model\MatchList\MatchList:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        or:
          - brand:
              eq: "user.getCompany().getBrand().getId()"
          - company:
              eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\MatchListPattern\MatchListPattern:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        matchList: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'
    write_access_control:
      matchList:
        in: 'matchListRepository.getIdsByCompanyId(user.getCompany().getId())'

Ivoz\Provider\Domain\Model\MusicOnHold\MusicOnHold:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\OutgoingDdiRule\OutgoingDdiRule:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      - and:
        - inherited:
            company: 'Ivoz\Provider\Domain\Model\Company\Company'
      - or:
          - inherited:
              forcedDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
          - forcedDdi:
              isNull: ~

Ivoz\Provider\Domain\Model\OutgoingDdiRulesPattern\OutgoingDdiRulesPattern:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        outgoingDdiRule: 'Ivoz\Provider\Domain\Model\OutgoingDdiRule\OutgoingDdiRule'
    write_access_control:
      - and:
          - inherited:
              outgoingDdiRule: 'Ivoz\Provider\Domain\Model\OutgoingDdiRule\OutgoingDdiRule'
      - or:
        - inherited:
            matchList: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'
        - matchList:
            isNull: ~
      - or:
          - inherited:
              forcedDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
          - forcedDdi:
              isNull: ~

Ivoz\Provider\Domain\Model\PickUpGroup\PickUpGroup:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\PickUpRelUser\PickUpRelUser:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        pickUpGroup: 'Ivoz\Provider\Domain\Model\PickUpGroup\PickUpGroup'
    write_access_control:
      inherited:
        user: 'Ivoz\Provider\Domain\Model\User\User'
        pickUpGroup: 'Ivoz\Provider\Domain\Model\PickUpGroup\PickUpGroup'

Ivoz\Provider\Domain\Model\QueueMember\QueueMember:
  collectionOperations:
    get:
      depth: 1
      operation_normalization_context: 'detailedCollection'
      normalization_context:
        groups: ['detailedCollection']
    post:
      depth: 1
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        queue: 'Ivoz\Provider\Domain\Model\Queue\Queue'
    write_access_control:
      inherited:
        user: 'Ivoz\Provider\Domain\Model\User\User'
        queue: 'Ivoz\Provider\Domain\Model\Queue\Queue'

Ivoz\Provider\Domain\Model\Queue\Queue:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      inherited:
        company: 'Ivoz\Provider\Domain\Model\Company\Company'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        - and:
            - inherited:
                company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              periodicAnnounceLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - periodicAnnounceLocution:
              isNull: ~
        - or:
          - inherited:
              timeoutLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - timeoutLocution:
              isNull: ~
        - or:
          - inherited:
              timeoutExtension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - timeoutExtension:
              isNull: ~
        - or:
          - inherited:
              timeoutVoiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - timeoutVoiceMailUser:
              isNull: ~
        - or:
          - inherited:
              fullLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - fullLocution:
              isNull: ~
        - or:
          - inherited:
              fullExtension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - fullExtension:
              isNull: ~
        - or:
          - inherited:
              fullVoiceMailUser: 'Ivoz\Provider\Domain\Model\User\User'
          - fullVoiceMailUser:
              isNull: ~

Ivoz\Provider\Domain\Model\RatingProfile\RatingProfile:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_ADMIN:
        raw: 'FALSE'

Ivoz\Provider\Domain\Model\Recording\Recording:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\ResidentialDevice\ResidentialDevice:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      - and:
        - inherited:
            company: 'Ivoz\Provider\Domain\Model\Company\Company'
      - or:
        - inherited:
            outgoingDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
        - outgoingDdi:
            isNull: ~
      - or:
        - inherited:
            transformationRuleSet: 'Ivoz\Provider\Domain\Model\TransformationRuleSet\TransformationRuleSet'
        - transformationRuleSet:
            isNull: ~
  itemOperations:
    get: ~
    get_status_item:
      method: 'GET'
      path: 'residential_devices/{id}/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    put: ~
    delete: ~
  collectionOperations:
    get: ~
    get_status_collection:
      method: 'GET'
      path: 'residential_devices/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    post: ~

Ivoz\Provider\Domain\Model\RetailAccount\RetailAccount:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
      - or:
          - inherited:
              outgoingDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
          - outgoingDdi:
              isNull: ~
      - or:
        - inherited:
            transformationRuleSet: 'Ivoz\Provider\Domain\Model\TransformationRuleSet\TransformationRuleSet'
        - transformationRuleSet:
            isNull: ~
  itemOperations:
    get: ~
    get_status_item:
      method: 'GET'
      path: 'retail_accounts/{id}/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    put: ~
    delete: ~
  collectionOperations:
    get: ~
    get_status_collection:
      method: 'GET'
      path: 'retail_accounts/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    post: ~

Ivoz\Provider\Domain\Model\RouteLock\RouteLock:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\Schedule\Schedule:
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\Service\Service:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'

Ivoz\Provider\Domain\Model\Terminal\Terminal:
  itemOperations:
    get: ~
    get_status_item:
      method: 'GET'
      path: 'terminals/{id}/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    put: ~
    delete: ~
  collectionOperations:
    get: ~
    get_status_collection:
      method: 'GET'
      path: 'terminals/status'
      operation_normalization_context: 'status'
      normalization_context:
        groups: ['status']
    post: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"

Ivoz\Provider\Domain\Model\TerminalModel\TerminalModel:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        raw: 'FALSE'

Ivoz\Provider\Domain\Model\Timezone\Timezone:
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    pagination_client_enabled: true
    access_control: '("ROLE_COMPANY_ADMIN" in roles) or ("ROLE_COMPANY_USER" in roles)'
    write_access_control:
      ROLE_COMPANY_ADMIN:
        raw: 'FALSE'
      ROLE_COMPANY_USER:
        raw: 'FALSE'

Ivoz\Provider\Domain\Model\TransformationRuleSet\TransformationRuleSet:
  access_control: '"ROLE_COMPANY_ADMIN" in roles'
  itemOperations:
    get: ~
  collectionOperations:
    get: ~
  attributes:
    access_control: '"ROLE_COMPANY_ADMIN" in roles'
    read_access_control:
      ROLE_COMPANY_ADMIN:
        - or:
          - brand:
              eq: "user.getCompany().getBrand().getId()"
          - brand:
              isNull: ~
    write_access_control:
      ROLE_COMPANY_ADMIN:
        raw: 'FALSE'

Ivoz\Provider\Domain\Model\User\User:
  attributes:
    access_control: '("ROLE_COMPANY_ADMIN" in roles) or ("ROLE_COMPANY_USER" in roles)'
    read_access_control:
      ROLE_COMPANY_USER:
        id:
          eq: "user.getId()"
      ROLE_COMPANY_ADMIN:
        company:
          eq: "user.getCompany().getId()"
    write_access_control:
      ROLE_COMPANY_USER:
        id:
          eq: "user.getId()"
      ROLE_COMPANY_ADMIN:
        - and:
          - inherited:
              company: 'Ivoz\Provider\Domain\Model\Company\Company'
        - or:
          - inherited:
              callAcl: 'Ivoz\Provider\Domain\Model\CallAcl\CallAcl'
          - callAcl:
              isNull: ~
        - or:
          - inherited:
              bossAssistant: 'Ivoz\Provider\Domain\Model\User\User'
          - bossAssistant:
              isNull: ~
        - or:
          - inherited:
              outgoingDdiRule: 'Ivoz\Provider\Domain\Model\OutgoingDdiRule\OutgoingDdiRule'
          - outgoingDdiRule:
              isNull: ~
        - or:
          - inherited:
              voicemailLocution: 'Ivoz\Provider\Domain\Model\Locution\Locution'
          - voicemailLocution:
              isNull: ~
        - or:
          - inherited:
              bossAssistantWhiteList: 'Ivoz\Provider\Domain\Model\MatchList\MatchList'
          - bossAssistantWhiteList:
              isNull: ~
        - or:
          - inherited:
              terminal: 'Ivoz\Provider\Domain\Model\Terminal\Terminal'
          - terminal:
              isNull: ~
        - or:
          - inherited:
              extension: 'Ivoz\Provider\Domain\Model\Extension\Extension'
          - extension:
              isNull: ~
        - or:
          - inherited:
              outgoingDdi: 'Ivoz\Provider\Domain\Model\Ddi\Ddi'
          - outgoingDdi:
              isNull: ~
